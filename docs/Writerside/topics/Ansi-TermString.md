# Text-Styling

In the terminal there are certain text attributes for each cell that can be set.
These include the foreground/background color and text fonts.

***All functions in this topic support non-native based terminal instances!***

## TerminalColor

The `TerminalColor` class reflects a color for the 
**foreground** und **background**. There is also a return method to call the respective 
Ansi-code that is responsible for changing the text attributes.

`TerminalColor.BLACK`<br/>
`TerminalColor.DARK_RED`<br/>
`TerminalColor.DARK_GREEN`<br/>
`TerminalColor.DARK_YELLOW`<br/>
`TerminalColor.DARK_BLUE`<br/>
`TerminalColor.DARK_PURPLE`<br/>
`TerminalColor.DARK_AQUA`<br/>
`TerminalColor.GRAY`<br/>
`TerminalColor.DARK_GRAY`<br/>
`TerminalColor.RED`<br/>
`TerminalColor.GREEN`<br/>
`TerminalColor.YELLOW`<br/>
`TerminalColor.BLUE`<br/>
`TerminalColor.PURPLE`<br/>
`TerminalColor.AQUA`<br/>
`TerminalColor.WHITE`<br/>

`TerminalColor.DEFAULT` represents the default color for the foreground and background, which is 
set as the default color in the terminal application.

A color can also be generated by the RGB color model but may not be displayed in many terminals.
The colors from **xterm-256color** can be used for safe resolutions.
This color palette offers 256 possible colors that can be displayed in most terminals.

Create rgb color: ```TerminalColor.from(r,g,b)``` ```TerminalColor.from(hex)```

Convert a color to xterm 256color: ```TerminalColor#asXtermColor()```

<img src="xterm_256color.png" alt="256color map"/>

Xterm-256color generating:<br/>
`XtermColor.getNearestTo(AWTColor)`<br/>
`XtermColor.getColor(id:byte)`

## Text-Font

The `TextFont` enum list all font types:

<img src="fonts.gif" alt="fonts" width="300"/>

With `TextFont.getDefaultFont()` an Ansi-Code is returned that resets the font attributes.

<warning>
Not all fonts are supported in every terminal and may behave differently.
</warning>

## TextStyle class
The TextStyle class contains all attributes to describe a certain text style.

<code-block lang="java">
TextStyle textStyle = TextStyle.create(foreground_color,
        background_color, fonts);
</code-block>
Example code using a mixture of several styles:
<code-block lang="java">
Terminal terminal = Terminal.auto();
//foreground: green; background: null; font: underline
TextStyle textStyle = TextStyle.create(TerminalColor.GREEN, null,
    TextFont.UNDERLINE);

//foreground: null; background: yellow; font: ignored
TextStyle textStyleExt = TextStyle.create(null, TerminalColor.YELLOW);

TextStyle combinedStyle = Combiner.combine(textStyleExt, textStyle);

String styleAnsiCode = AnsiCodeSerializer.DEFAULT.serialize(combinedStyle);
String resetAnsiCode = AnsiCodeSerializer.DEFAULT.serialize(TextStyle.getDefault());

terminal.writeLine("\nResult: ");
terminal.writeLine(styleAnsiCode + "This is a combined text style" + resetAnsiCode);
</code-block>

<img src="textstyle_combiner.png" alt="console output"/>

When using the combiner class, all attributes can be overwritten if the attributes
of the higher prioritized style object do not equal to null.

<code-block lang="java">
//foreground: green; background: yellow; font: underline
TextStyle textStyle = TextStyle.create(TerminalColor.GREEN,
    TerminalColor.YELLOW, TextFont.UNDERLINE);
//foreground: null; background: default; font: all unset
TextStyle textStyleExt = TextStyle.create(null, TerminalColor.DEFAULT,
    FontMap.mapOfAll(FontOption.UNSET));
TextStyle combinedStyle = Combiner.combine(textStyleExt, textStyle);

TerminalBuffer buffer = new TerminalBuffer()
    .setStyle(combinedStyle)
    .append("This is a combined text style")
    .resetStyle();
terminal.writeLine("\nResult:");
terminal.writeLine(buffer);
</code-block>

<img src="textstyle_combiner2.png" alt="console output"/>

## TermString class
The TermString class contains a string with the associated style data and simplifies the use 
of terminal-based strings.

<code-block lang="java">
TermString termString = TermString.builder()
    .append("No Style String\n")
    .foregroundColor(TerminalColor.RED)
    .backgroundColor(TerminalColor.YELLOW)
    .append("First String\n")
    .backgroundColor(null)
    .append("Second String\n")
    .fontsSet(TextFont.UNDERLINE, TextFont.ITALIC)
    .append("Third String\n")
    .fontsUnset(TextFont.UNDERLINE)
    .append("Fourth String\n")
    .resetStyle()
    .build();
terminal.writeLine("\nResult:");
terminal.writeLine(termString);
</code-block>
<img src="termstring.png" alt="console output"/>

<code-block lang="java">
TermString replacement = TermString.builder()
    .foregroundColor(TerminalColor.GREEN)
    .append("Text")
    .build();
termString = termString.replace("String", replacement);
terminal.writeLine("\nResult:");
terminal.writeLine(termString);
</code-block>
<img src="termstring2.png" alt="console output"/>